{"ast":null,"code":"var _jsxFileName = \"/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-recipes-app/src/pages/Login.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport img from '../images/login-img.jpg';\nimport setEmail from '../redux/actions/userAction';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      userEmail: '',\n      senha: ''\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(event) {\n    const {\n      userEmail\n    } = this.state;\n    localStorage.setItem('mealsToken', 1);\n    localStorage.setItem('cocktailsToken', 1);\n    const userInfo = {\n      email: userEmail\n    };\n    console.log(userInfo);\n    const userInfoJson = JSON.stringify(userInfo);\n    localStorage.setItem('user', userInfoJson);\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  validation() {\n    const {\n      userEmail,\n      senha\n    } = this.state;\n    const emailRegex = /^[a-z0-9.]+@[a-z0-9]+\\.[a-z]+(\\.[a-z]+)?$/i;\n    const minValue = 6;\n\n    if (emailRegex.test(userEmail) && senha.length > minValue) {\n      return false;\n    }\n\n    return true;\n  }\n\n  render() {\n    const {\n      userEmail,\n      senha\n    } = this.state;\n    const {\n      handleClick\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, \"App receitas\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"input-email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"Email\",\n      \"data-testid\": \"email-input\",\n      type: \"text\",\n      id: \"input-email\",\n      onChange: this.onChange,\n      value: userEmail,\n      name: \"userEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"input-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"Senha\",\n      \"data-testid\": \"password-input\",\n      type: \"password\",\n      id: \"input-password\",\n      onChange: this.onChange,\n      value: senha,\n      name: \"senha\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Link, {\n      to: \"/comidas\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      \"data-testid\": \"login-submit-btn\",\n      onClick: () => {\n        handleClick(userEmail);\n      },\n      disabled: this.validation(),\n      type: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, \"Entrar\")), /*#__PURE__*/React.createElement(\"img\", {\n      src: img,\n      alt: \"ilutra\\xE7\\xE3o\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => ({\n  handleClick: email => dispatch(setEmail(email))\n});\n\nexport default connect(null, mapDispatchToProps)(Login);\nLogin.propTypes = {\n  handleClick: PropTypes.func\n}.isRequired;","map":{"version":3,"sources":["/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-recipes-app/src/pages/Login.js"],"names":["React","PropTypes","connect","Link","img","setEmail","Login","Component","constructor","state","userEmail","senha","onChange","bind","event","localStorage","setItem","userInfo","email","console","log","userInfoJson","JSON","stringify","setState","target","name","value","validation","emailRegex","minValue","test","length","render","handleClick","props","mapDispatchToProps","dispatch","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport img from '../images/login-img.jpg';\nimport setEmail from '../redux/actions/userAction';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      userEmail: '',\n      senha: '',\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(event) {\n    const { userEmail } = this.state;\n    localStorage.setItem('mealsToken', 1);\n    localStorage.setItem('cocktailsToken', 1);\n    const userInfo = { email: userEmail };\n    console.log(userInfo);\n    const userInfoJson = JSON.stringify(userInfo);\n    localStorage.setItem('user', userInfoJson);\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  }\n\n  validation() {\n    const { userEmail, senha } = this.state;\n    const emailRegex = /^[a-z0-9.]+@[a-z0-9]+\\.[a-z]+(\\.[a-z]+)?$/i;\n    const minValue = 6;\n    if (emailRegex.test(userEmail) && senha.length > minValue) {\n      return false;\n    }\n\n    return true;\n  }\n\n  render() {\n    const { userEmail, senha } = this.state;\n    const { handleClick } = this.props;\n    return (\n      <section className=\"login\">\n        <h1>App receitas</h1>\n        <h4>Login</h4>\n        <label htmlFor=\"input-email\">\n          <input\n            placeholder=\"Email\"\n            data-testid=\"email-input\"\n            type=\"text\"\n            id=\"input-email\"\n            onChange={ this.onChange }\n            value={ userEmail }\n            name=\"userEmail\"\n          />\n        </label>\n        <label htmlFor=\"input-password\">\n          <input\n            placeholder=\"Senha\"\n            data-testid=\"password-input\"\n            type=\"password\"\n            id=\"input-password\"\n            onChange={ this.onChange }\n            value={ senha }\n            name=\"senha\"\n          />\n        </label>\n        <Link to=\"/comidas\">\n          <button\n            data-testid=\"login-submit-btn\"\n            onClick={ () => { handleClick(userEmail); } }\n            disabled={ this.validation() }\n            type=\"button\"\n          >\n            Entrar\n          </button>\n        </Link>\n\n        <img src={ img } alt=\"ilutração\" />\n      </section>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleClick: (email) => dispatch(\n    setEmail(email),\n  ),\n});\n\nexport default connect(null, mapDispatchToProps)(Login);\n\nLogin.propTypes = {\n  handleClick: PropTypes.func,\n}.isRequired;\n"]},"metadata":{},"sourceType":"module"}