{"ast":null,"code":"var _jsxFileName = \"/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-recipes-app/src/pages/BebidasEmProcesso.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport fetchAPI from '../services/index';\nimport heartWhite from \"../images/whiteHeartIcon.svg\";\nimport heartBlack from \"../images/blackHeartIcon.svg\";\nimport shareimg from \"../images/shareIcon.svg\";\nimport { createIngredientsList } from '../utils';\nimport '../css/ComidasEmProcessoCSS.css';\n\nfunction BebidasEmProcesso() {\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const [drink, setDrink] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [finished, setFinished] = useState(true);\n  const [share, setShare] = useState(false);\n  const [listIngredients, setListIngredients] = useState([]);\n  const storage = JSON.parse(localStorage.getItem('inProgressRecipes'));\n  const [indexChecked, setIndexChecked] = useState(storage.cocktails[id] || []);\n  const storageFavorite = JSON.parse(localStorage.getItem('favoriteRecipes')) || [];\n  const [favorite, setFavorite] = useState(storageFavorite.some(item => item.id === id)); // se retorna true está favoritado, se falso nao estava favoritado\n\n  useEffect(() => {\n    setLoading(true);\n\n    const fetchDrink = async () => {\n      const data = await fetchAPI(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`);\n      console.log(data.drinks[0]);\n      setDrink(data.drinks[0]);\n      console.log(data.drinks[0]);\n      const ingredientes = createIngredientsList(data.drinks[0]);\n      const filter = ingredientes.filter(item => item[0] !== null);\n      setListIngredients(filter);\n      setLoading(false);\n    };\n\n    console.log('aaaaa');\n    fetchDrink();\n  }, [id]);\n  useEffect(() => {\n    const previousIngredientes = JSON.parse(localStorage.getItem('inProgressRecipes'));\n    console.log(previousIngredientes);\n    const newIngredientes = { ...previousIngredientes,\n      cocktails: { ...previousIngredientes.cocktails,\n        [id]: indexChecked\n      }\n    };\n    localStorage.setItem('inProgressRecipes', JSON.stringify(newIngredientes));\n    setFinished(listIngredients.length !== indexChecked.length);\n  }, [indexChecked, listIngredients, id]);\n\n  function handleClick() {\n    // se retorna true está favoritado, se falso nao estava favoritado\n    if (!favorite) {\n      // se nao estiver favoritado eu tenho que colocar no local storage\n      setFavorite(true);\n      const newFavorite = [...storageFavorite, {\n        id,\n        type: 'bebida',\n        area: '',\n        category: drink.strCategory,\n        alcoholicOrNot: drink.strAlcoholic,\n        name: drink.strDrink,\n        image: drink.strDrinkThumb\n      }];\n      localStorage.setItem('favoriteRecipes', JSON.stringify(newFavorite));\n    }\n\n    if (favorite) {\n      // se ja estiver favoritado eu tenho que tirar do local storage\n      setFavorite(false);\n      const removeFavorite = storageFavorite.filter(item => item.id !== id);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(removeFavorite));\n    }\n  }\n\n  function handleShare() {\n    copy(`http://localhost:3000/bebidas/${id}`);\n    setShare(true);\n  }\n\n  function checkedStyle({\n    target: {\n      checked\n    }\n  }, ingredient) {\n    if (checked) return setIndexChecked(previous => [...previous, ingredient]);\n    const filterChecked = indexChecked.filter(item => item !== ingredient);\n    setIndexChecked(filterChecked);\n  }\n\n  function renderList() {\n    console.log(listIngredients);\n    return listIngredients.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"checks\",\n      key: index,\n      className: indexChecked.includes(item[0]) ? 'text-decoration' : 'no-decoration',\n      \"data-testid\": `${index}-ingredient-step`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"checks\",\n      onClick: ev => checkedStyle(ev, item[0]),\n      checked: indexChecked.includes(item[0]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }\n    }), `${item[0]} - ${item[1]}`)));\n  }\n\n  if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 23\n    }\n  }, \"carregando\");\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"progress\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: drink.strDrinkThumb,\n    \"data-testid\": \"recipe-photo\",\n    alt: \"imagem da refei\\xE7\\xE3o\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    \"data-testid\": \"recipe-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, drink.strDrink), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, drink.strCategory), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"share-btn\",\n    onClick: handleShare,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: shareimg,\n    alt: \"icone compartilhar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }), share ? 'Link copiado!' : null), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"favorite-btn\",\n    src: favorite ? heartBlack : heartWhite,\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: favorite ? heartBlack : heartWhite,\n    alt: \"Favoritar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }))), renderList(), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }, drink.strInstructions), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"finish-recipe-btn\",\n    disabled: finished,\n    onClick: () => history.push('/receitas-feitas'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }, \"finalizar\"));\n}\n\nexport default BebidasEmProcesso;","map":{"version":3,"sources":["/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-recipes-app/src/pages/BebidasEmProcesso.js"],"names":["React","useEffect","useState","useParams","useHistory","copy","fetchAPI","createIngredientsList","BebidasEmProcesso","id","history","drink","setDrink","loading","setLoading","finished","setFinished","share","setShare","listIngredients","setListIngredients","storage","JSON","parse","localStorage","getItem","indexChecked","setIndexChecked","cocktails","storageFavorite","favorite","setFavorite","some","item","fetchDrink","data","console","log","drinks","ingredientes","filter","previousIngredientes","newIngredientes","setItem","stringify","length","handleClick","newFavorite","type","area","category","strCategory","alcoholicOrNot","strAlcoholic","name","strDrink","image","strDrinkThumb","removeFavorite","handleShare","checkedStyle","target","checked","ingredient","previous","filterChecked","renderList","map","index","includes","ev","shareimg","heartBlack","heartWhite","strInstructions","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport fetchAPI from '../services/index';\nimport heartWhite from '../images/whiteHeartIcon.svg';\nimport heartBlack from '../images/blackHeartIcon.svg';\nimport shareimg from '../images/shareIcon.svg';\nimport { createIngredientsList } from '../utils';\nimport '../css/ComidasEmProcessoCSS.css';\n\nfunction BebidasEmProcesso() {\n  const { id } = useParams();\n  const history = useHistory();\n\n  const [drink, setDrink] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [finished, setFinished] = useState(true);\n  const [share, setShare] = useState(false);\n  const [listIngredients, setListIngredients] = useState([]);\n\n  const storage = JSON.parse(localStorage.getItem('inProgressRecipes'));\n  const [indexChecked, setIndexChecked] = useState(storage.cocktails[id] || []);\n\n  const storageFavorite = JSON.parse(localStorage.getItem('favoriteRecipes')) || [];\n  const [favorite, setFavorite] = useState(storageFavorite\n    .some((item) => item.id === id));\n  // se retorna true está favoritado, se falso nao estava favoritado\n\n  useEffect(() => {\n    setLoading(true);\n    const fetchDrink = async () => {\n      const data = await fetchAPI(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`);\n      console.log(data.drinks[0]);\n      setDrink(data.drinks[0]);\n      console.log(data.drinks[0]);\n\n      const ingredientes = createIngredientsList(data.drinks[0]);\n      const filter = ingredientes.filter((item) => item[0] !== null);\n      setListIngredients(filter);\n\n      setLoading(false);\n    };\n    console.log('aaaaa');\n\n    fetchDrink();\n  }, [id]);\n\n  useEffect(() => {\n    const previousIngredientes = JSON.parse(localStorage.getItem('inProgressRecipes'));\n    console.log(previousIngredientes);\n\n    const newIngredientes = {\n      ...previousIngredientes,\n      cocktails: {\n        ...previousIngredientes.cocktails,\n        [id]: indexChecked,\n      },\n    };\n\n    localStorage.setItem('inProgressRecipes', JSON.stringify(newIngredientes));\n\n    setFinished(listIngredients.length !== indexChecked.length);\n  }, [indexChecked, listIngredients, id]);\n\n  function handleClick() {\n    // se retorna true está favoritado, se falso nao estava favoritado\n    if (!favorite) {\n      // se nao estiver favoritado eu tenho que colocar no local storage\n      setFavorite(true);\n\n      const newFavorite = [\n        ...storageFavorite,\n        {\n          id,\n          type: 'bebida',\n          area: '',\n          category: drink.strCategory,\n          alcoholicOrNot: drink.strAlcoholic,\n          name: drink.strDrink,\n          image: drink.strDrinkThumb,\n        },\n      ];\n      localStorage.setItem('favoriteRecipes', JSON.stringify(newFavorite));\n    }\n\n    if (favorite) {\n      // se ja estiver favoritado eu tenho que tirar do local storage\n      setFavorite(false);\n      const removeFavorite = storageFavorite.filter((item) => item.id !== id);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(removeFavorite));\n    }\n  }\n\n  function handleShare() {\n    copy(`http://localhost:3000/bebidas/${id}`);\n    setShare(true);\n  }\n\n  function checkedStyle({ target: { checked } }, ingredient) {\n    if (checked) return setIndexChecked((previous) => ([...previous, ingredient]));\n    const filterChecked = indexChecked.filter((item) => item !== ingredient);\n    setIndexChecked(filterChecked);\n  }\n\n  function renderList() {\n    console.log(listIngredients);\n    return listIngredients.map((item, index) => (\n      <div key={ index } className=\"checkbox\">\n        <label\n          htmlFor=\"checks\"\n          key={ index }\n          className={\n            indexChecked.includes(item[0]) ? 'text-decoration' : 'no-decoration'\n          }\n          data-testid={ `${index}-ingredient-step` }\n        >\n          <input\n            type=\"checkbox\"\n            id=\"checks\"\n            onClick={ (ev) => checkedStyle(ev, item[0]) }\n            checked={ indexChecked.includes(item[0]) }\n          />\n          { `${item[0]} - ${item[1]}` }\n        </label>\n      </div>\n    ));\n  }\n\n  if (loading) return <p>carregando</p>;\n\n  return (\n    <section className=\"progress\">\n      <img\n        src={ drink.strDrinkThumb }\n        data-testid=\"recipe-photo\"\n        alt=\"imagem da refeição\"\n      />\n\n      <div className=\"header\">\n        <h3 data-testid=\"recipe-title\">{ drink.strDrink }</h3>\n        <p data-testid=\"recipe-category\">{ drink.strCategory }</p>\n\n        <button type=\"button\" data-testid=\"share-btn\" onClick={ handleShare }>\n          <img src={ shareimg } alt=\"icone compartilhar\" />\n          { share ? 'Link copiado!' : null }\n        </button>\n\n        <button\n          type=\"button\"\n          data-testid=\"favorite-btn\"\n          src={ favorite ? heartBlack : heartWhite }\n          onClick={ handleClick }\n        >\n          <img src={ favorite ? heartBlack : heartWhite } alt=\"Favoritar\" />\n        </button>\n      </div>\n\n      { renderList() }\n\n      <p data-testid=\"instructions\">{ drink.strInstructions }</p>\n\n      <button\n        type=\"button\"\n        data-testid=\"finish-recipe-btn\"\n        disabled={ finished }\n        onClick={ () => history.push('/receitas-feitas') }\n      >\n        finalizar\n      </button>\n    </section>\n  );\n}\n\nexport default BebidasEmProcesso;\n"]},"metadata":{},"sourceType":"module"}