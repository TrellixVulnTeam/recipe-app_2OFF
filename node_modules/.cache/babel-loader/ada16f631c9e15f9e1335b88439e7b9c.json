{"ast":null,"code":"import { DRINKS_ALL_CATEGORIES_ENDPOINT } from '../../services/drinks';\nimport fetchAPI from '../../services';\nimport { finishedLoadingCategories, finishedLoadingRecipes, loadingCategories, loadingCategoriesFailed, loadingRecipes, loadingRecipesFailed } from './loadingAction';\nexport const SET_DRINKS = 'SET_DRINKS';\nexport const SET_SEARCH_BAR_DRINKS = 'SET_SEARCH_BAR_DRINKS';\nexport const SET_DRINK_DETAILS = 'SET_DRINK_DETAILS';\nexport const SET_DRINK_CATEGORIES = 'SET_DRINK_CATEGORIES';\nexport const CHANGE_DRINK_CATEGORY = 'CHANGE_DRINK_CATEGORY';\n\nfunction APIThunk(setter) {\n  return URL => async dispatch => {\n    dispatch(loadingRecipes(URL));\n\n    try {\n      const response = await fetchAPI(URL);\n      dispatch(setter(response.drinks));\n    } catch (e) {\n      console.error(e);\n      dispatch(loadingRecipesFailed(e));\n    }\n\n    dispatch(finishedLoadingRecipes());\n  };\n}\n\nfunction setDrinks(payload) {\n  return {\n    type: SET_DRINKS,\n    payload\n  };\n}\n\nfunction setSearchBarDrinks(payload) {\n  return {\n    type: SET_SEARCH_BAR_DRINKS,\n    payload\n  };\n}\n\nfunction setDrinkDetails(payload) {\n  return {\n    type: SET_DRINK_DETAILS,\n    payload\n  };\n}\n\nexport const getDrinkRecipesAPIThunk = APIThunk(setDrinks);\nexport const getDrinkSearchBarAPIThunk = APIThunk(setSearchBarDrinks);\nexport const getDrinkDetailsAPIThunk = APIThunk(setDrinkDetails);\n\nfunction setCategories(payload) {\n  return {\n    type: SET_DRINK_CATEGORIES,\n    payload\n  };\n}\n\nexport function getDrinkCategoriesAPIThunk() {\n  const LAST_CATEGORY_INDEX = 5;\n\n  const onlyTheFirst5 = (_recipe, index) => index < LAST_CATEGORY_INDEX;\n\n  return async dispatch => {\n    dispatch(loadingCategories());\n\n    try {\n      const response = await fetchAPI(DRINKS_ALL_CATEGORIES_ENDPOINT);\n      dispatch(setCategories(response.drinks.filter(onlyTheFirst5)));\n    } catch (e) {\n      console.error(e);\n      dispatch(loadingCategoriesFailed(e));\n    }\n\n    dispatch(finishedLoadingCategories());\n  };\n}\nexport function changeCategory(payload) {\n  return {\n    type: CHANGE_DRINK_CATEGORY,\n    payload\n  };\n}","map":{"version":3,"sources":["/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-recipes-app/src/redux/actions/drinksAction.js"],"names":["DRINKS_ALL_CATEGORIES_ENDPOINT","fetchAPI","finishedLoadingCategories","finishedLoadingRecipes","loadingCategories","loadingCategoriesFailed","loadingRecipes","loadingRecipesFailed","SET_DRINKS","SET_SEARCH_BAR_DRINKS","SET_DRINK_DETAILS","SET_DRINK_CATEGORIES","CHANGE_DRINK_CATEGORY","APIThunk","setter","URL","dispatch","response","drinks","e","console","error","setDrinks","payload","type","setSearchBarDrinks","setDrinkDetails","getDrinkRecipesAPIThunk","getDrinkSearchBarAPIThunk","getDrinkDetailsAPIThunk","setCategories","getDrinkCategoriesAPIThunk","LAST_CATEGORY_INDEX","onlyTheFirst5","_recipe","index","filter","changeCategory"],"mappings":"AAAA,SAASA,8BAAT,QAA+C,uBAA/C;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,SACEC,yBADF,EAEEC,sBAFF,EAGEC,iBAHF,EAIEC,uBAJF,EAKEC,cALF,EAMEC,oBANF,QAM8B,iBAN9B;AAQA,OAAO,MAAMC,UAAU,GAAG,YAAnB;AACP,OAAO,MAAMC,qBAAqB,GAAG,uBAA9B;AACP,OAAO,MAAMC,iBAAiB,GAAG,mBAA1B;AACP,OAAO,MAAMC,oBAAoB,GAAG,sBAA7B;AACP,OAAO,MAAMC,qBAAqB,GAAG,uBAA9B;;AAEP,SAASC,QAAT,CAAkBC,MAAlB,EAA0B;AACxB,SAAQC,GAAD,IAAS,MAAOC,QAAP,IAAoB;AAClCA,IAAAA,QAAQ,CAACV,cAAc,CAACS,GAAD,CAAf,CAAR;;AACA,QAAI;AACF,YAAME,QAAQ,GAAG,MAAMhB,QAAQ,CAACc,GAAD,CAA/B;AACAC,MAAAA,QAAQ,CAACF,MAAM,CAACG,QAAQ,CAACC,MAAV,CAAP,CAAR;AACD,KAHD,CAGE,OAAOC,CAAP,EAAU;AACVC,MAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACAH,MAAAA,QAAQ,CAACT,oBAAoB,CAACY,CAAD,CAArB,CAAR;AACD;;AACDH,IAAAA,QAAQ,CAACb,sBAAsB,EAAvB,CAAR;AACD,GAVD;AAWD;;AACD,SAASmB,SAAT,CAAmBC,OAAnB,EAA4B;AAC1B,SAAO;AACLC,IAAAA,IAAI,EAAEhB,UADD;AAELe,IAAAA;AAFK,GAAP;AAID;;AACD,SAASE,kBAAT,CAA4BF,OAA5B,EAAqC;AACnC,SAAO;AACLC,IAAAA,IAAI,EAAEf,qBADD;AAELc,IAAAA;AAFK,GAAP;AAID;;AACD,SAASG,eAAT,CAAyBH,OAAzB,EAAkC;AAChC,SAAO;AACLC,IAAAA,IAAI,EAAEd,iBADD;AAELa,IAAAA;AAFK,GAAP;AAID;;AACD,OAAO,MAAMI,uBAAuB,GAAGd,QAAQ,CAACS,SAAD,CAAxC;AACP,OAAO,MAAMM,yBAAyB,GAAGf,QAAQ,CAACY,kBAAD,CAA1C;AACP,OAAO,MAAMI,uBAAuB,GAAGhB,QAAQ,CAACa,eAAD,CAAxC;;AAEP,SAASI,aAAT,CAAuBP,OAAvB,EAAgC;AAC9B,SAAO;AACLC,IAAAA,IAAI,EAAEb,oBADD;AAELY,IAAAA;AAFK,GAAP;AAID;;AACD,OAAO,SAASQ,0BAAT,GAAsC;AAC3C,QAAMC,mBAAmB,GAAG,CAA5B;;AACA,QAAMC,aAAa,GAAG,CAACC,OAAD,EAAUC,KAAV,KAAoBA,KAAK,GAAGH,mBAAlD;;AACA,SAAO,MAAOhB,QAAP,IAAoB;AACzBA,IAAAA,QAAQ,CAACZ,iBAAiB,EAAlB,CAAR;;AACA,QAAI;AACF,YAAMa,QAAQ,GAAG,MAAMhB,QAAQ,CAACD,8BAAD,CAA/B;AACAgB,MAAAA,QAAQ,CAACc,aAAa,CAACb,QAAQ,CAACC,MAAT,CAAgBkB,MAAhB,CAAuBH,aAAvB,CAAD,CAAd,CAAR;AACD,KAHD,CAGE,OAAOd,CAAP,EAAU;AACVC,MAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACAH,MAAAA,QAAQ,CAACX,uBAAuB,CAACc,CAAD,CAAxB,CAAR;AACD;;AACDH,IAAAA,QAAQ,CAACd,yBAAyB,EAA1B,CAAR;AACD,GAVD;AAWD;AAED,OAAO,SAASmC,cAAT,CAAwBd,OAAxB,EAAiC;AACtC,SAAO;AACLC,IAAAA,IAAI,EAAEZ,qBADD;AAELW,IAAAA;AAFK,GAAP;AAID","sourcesContent":["import { DRINKS_ALL_CATEGORIES_ENDPOINT } from '../../services/drinks';\nimport fetchAPI from '../../services';\nimport {\n  finishedLoadingCategories,\n  finishedLoadingRecipes,\n  loadingCategories,\n  loadingCategoriesFailed,\n  loadingRecipes,\n  loadingRecipesFailed } from './loadingAction';\n\nexport const SET_DRINKS = 'SET_DRINKS';\nexport const SET_SEARCH_BAR_DRINKS = 'SET_SEARCH_BAR_DRINKS';\nexport const SET_DRINK_DETAILS = 'SET_DRINK_DETAILS';\nexport const SET_DRINK_CATEGORIES = 'SET_DRINK_CATEGORIES';\nexport const CHANGE_DRINK_CATEGORY = 'CHANGE_DRINK_CATEGORY';\n\nfunction APIThunk(setter) {\n  return (URL) => async (dispatch) => {\n    dispatch(loadingRecipes(URL));\n    try {\n      const response = await fetchAPI(URL);\n      dispatch(setter(response.drinks));\n    } catch (e) {\n      console.error(e);\n      dispatch(loadingRecipesFailed(e));\n    }\n    dispatch(finishedLoadingRecipes());\n  };\n}\nfunction setDrinks(payload) {\n  return {\n    type: SET_DRINKS,\n    payload,\n  };\n}\nfunction setSearchBarDrinks(payload) {\n  return {\n    type: SET_SEARCH_BAR_DRINKS,\n    payload,\n  };\n}\nfunction setDrinkDetails(payload) {\n  return {\n    type: SET_DRINK_DETAILS,\n    payload,\n  };\n}\nexport const getDrinkRecipesAPIThunk = APIThunk(setDrinks);\nexport const getDrinkSearchBarAPIThunk = APIThunk(setSearchBarDrinks);\nexport const getDrinkDetailsAPIThunk = APIThunk(setDrinkDetails);\n\nfunction setCategories(payload) {\n  return {\n    type: SET_DRINK_CATEGORIES,\n    payload,\n  };\n}\nexport function getDrinkCategoriesAPIThunk() {\n  const LAST_CATEGORY_INDEX = 5;\n  const onlyTheFirst5 = (_recipe, index) => index < LAST_CATEGORY_INDEX;\n  return async (dispatch) => {\n    dispatch(loadingCategories());\n    try {\n      const response = await fetchAPI(DRINKS_ALL_CATEGORIES_ENDPOINT);\n      dispatch(setCategories(response.drinks.filter(onlyTheFirst5)));\n    } catch (e) {\n      console.error(e);\n      dispatch(loadingCategoriesFailed(e));\n    }\n    dispatch(finishedLoadingCategories());\n  };\n}\n\nexport function changeCategory(payload) {\n  return {\n    type: CHANGE_DRINK_CATEGORY,\n    payload,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}