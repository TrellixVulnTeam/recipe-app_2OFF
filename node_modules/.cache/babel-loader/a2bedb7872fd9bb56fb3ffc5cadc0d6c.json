{"ast":null,"code":"var _jsxFileName = \"/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-recipes-app/src/components/MealsCards.js\";\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { arrayOf, shape, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { head } from 'lodash';\nimport { MEALS_BY_FIRST_LETTER_ENDPOINT, MEALS_BY_INGREDIENT_ENDPOINT, MEALS_BY_NAME_ENDPOINT } from '../services/meals';\nconst customAlert = alert;\n\nfunction shouldRedirect(endpoint) {\n  const endpointShouldRedirect = [MEALS_BY_FIRST_LETTER_ENDPOINT(''), MEALS_BY_NAME_ENDPOINT(''), MEALS_BY_INGREDIENT_ENDPOINT('')];\n  return endpointShouldRedirect.some(element => endpoint.includes(element));\n}\n\nfunction MealsCards({\n  meals\n}) {\n  const URL = useSelector(state => state.loading.requestedURL);\n  const LAST_MEAL_INDEX = 12;\n\n  const onlyTheFirst12 = (_recipe, index) => index < LAST_MEAL_INDEX;\n\n  if (meals === null) {\n    customAlert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 12\n      }\n    }, \"Tente novamente\");\n  }\n\n  if (meals.length === 1 && shouldRedirect(URL)) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: `/comidas/${head(meals).idMeal}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 12\n      }\n    });\n  } // happy path\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"meals-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, meals.filter(onlyTheFirst12).map((meal, index) => /*#__PURE__*/React.createElement(Link, {\n    className: \"meals-card\",\n    \"data-testid\": `${index}-recipe-card`,\n    key: meal.idMeal,\n    to: `/comidas/${meal.idMeal}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": `${index}-card-img`,\n    src: meal.strMealThumb,\n    alt: meal.strMeal,\n    width: \"100\",\n    height: \"100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": `${index}-card-name`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, meal.strMeal))));\n}\n\nMealsCards.propTypes = {\n  meals: arrayOf(shape({\n    idMeal: string,\n    strMeal: string,\n    strMealThumb: string\n  }))\n};\nMealsCards.defaultProps = {\n  meals: []\n};\nexport default MealsCards;","map":{"version":3,"sources":["/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-recipes-app/src/components/MealsCards.js"],"names":["React","Link","Redirect","arrayOf","shape","string","useSelector","head","MEALS_BY_FIRST_LETTER_ENDPOINT","MEALS_BY_INGREDIENT_ENDPOINT","MEALS_BY_NAME_ENDPOINT","customAlert","alert","shouldRedirect","endpoint","endpointShouldRedirect","some","element","includes","MealsCards","meals","URL","state","loading","requestedURL","LAST_MEAL_INDEX","onlyTheFirst12","_recipe","index","length","idMeal","filter","map","meal","strMealThumb","strMeal","propTypes","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { arrayOf, shape, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { head } from 'lodash';\n\nimport { MEALS_BY_FIRST_LETTER_ENDPOINT,\n  MEALS_BY_INGREDIENT_ENDPOINT,\n  MEALS_BY_NAME_ENDPOINT } from '../services/meals';\n\nconst customAlert = alert;\nfunction shouldRedirect(endpoint) {\n  const endpointShouldRedirect = [\n    MEALS_BY_FIRST_LETTER_ENDPOINT(''),\n    MEALS_BY_NAME_ENDPOINT(''),\n    MEALS_BY_INGREDIENT_ENDPOINT(''),\n  ];\n  return endpointShouldRedirect.some((element) => endpoint.includes(element));\n}\nfunction MealsCards({ meals }) {\n  const URL = useSelector((state) => state.loading.requestedURL);\n\n  const LAST_MEAL_INDEX = 12;\n  const onlyTheFirst12 = (_recipe, index) => index < LAST_MEAL_INDEX;\n  if (meals === null) {\n    customAlert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n    return <div>Tente novamente</div>;\n  }\n  if (meals.length === 1 && shouldRedirect(URL)) {\n    return <Redirect to={ `/comidas/${head(meals).idMeal}` } />;\n  }\n  // happy path\n  return (\n    <div className=\"meals-container\">\n      {meals.filter(onlyTheFirst12).map((meal, index) => (\n        <Link\n          className=\"meals-card\"\n          data-testid={ `${index}-recipe-card` }\n          key={ meal.idMeal }\n          to={ `/comidas/${meal.idMeal}` }\n        >\n          <div>\n            <img\n              data-testid={ `${index}-card-img` }\n              src={ meal.strMealThumb }\n              alt={ meal.strMeal }\n              width=\"100\"\n              height=\"100\"\n            />\n          </div>\n          <p data-testid={ `${index}-card-name` }>{meal.strMeal}</p>\n        </Link>\n      ))}\n    </div>\n  );\n}\n\nMealsCards.propTypes = {\n  meals: arrayOf(\n    shape(\n      { idMeal: string,\n        strMeal: string,\n        strMealThumb: string },\n    ),\n  ),\n};\n\nMealsCards.defaultProps = {\n  meals: [],\n};\n\nexport default MealsCards;\n"]},"metadata":{},"sourceType":"module"}