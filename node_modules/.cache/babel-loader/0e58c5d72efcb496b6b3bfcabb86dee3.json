{"ast":null,"code":"import { DRINKS_ALL_CATEGORIES_ENDPOINT, DRINKS_INGREDIENT_ENDPOINT } from '../../services/drinks';\nimport fetchAPI from '../../services';\nimport { finishedLoadingCategories, finishedLoadingIngredients, finishedLoadingRecipes, loadingCategories, loadingCategoriesFailed, loadingIngredient, loadingIngredientsFailed, loadingRecipes, loadingRecipesFailed } from './loadingAction';\nexport const SET_DRINKS = 'SET_DRINKS';\nexport const SET_SEARCH_BAR_DRINKS = 'SET_SEARCH_BAR_DRINKS';\nexport const SET_DRINK_DETAILS = 'SET_DRINK_DETAILS';\nexport const SET_DRINK_CATEGORIES = 'SET_DRINK_CATEGORIES';\nexport const CHANGE_DRINK_CATEGORY = 'CHANGE_DRINK_CATEGORY';\nexport const SET_DRINKS_INGREDIENTS = 'SET_DRINKS_INGREDIENTS';\n\nfunction APIThunk(setter) {\n  return URL => async dispatch => {\n    dispatch(loadingRecipes(URL));\n\n    try {\n      const response = await fetchAPI(URL);\n      dispatch(setter(response.drinks));\n    } catch (e) {\n      console.error(e);\n      dispatch(loadingRecipesFailed(e));\n    }\n\n    dispatch(finishedLoadingRecipes());\n  };\n}\n\nfunction setDrinks(payload) {\n  return {\n    type: SET_DRINKS,\n    payload\n  };\n}\n\nfunction setSearchBarDrinks(payload) {\n  return {\n    type: SET_SEARCH_BAR_DRINKS,\n    payload\n  };\n}\n\nfunction setDrinkDetails(payload) {\n  return {\n    type: SET_DRINK_DETAILS,\n    payload\n  };\n}\n\nexport const getDrinkRecipesAPIThunk = APIThunk(setDrinks);\nexport const getDrinkSearchBarAPIThunk = APIThunk(setSearchBarDrinks);\nexport const getDrinkDetailsAPIThunk = APIThunk(setDrinkDetails);\n\nfunction setCategories(payload) {\n  return {\n    type: SET_DRINK_CATEGORIES,\n    payload\n  };\n}\n\nexport function getDrinkCategoriesAPIThunk() {\n  const LAST_CATEGORY_INDEX = 5;\n\n  const onlyTheFirst5 = (_recipe, index) => index < LAST_CATEGORY_INDEX;\n\n  return async dispatch => {\n    dispatch(loadingCategories());\n\n    try {\n      const response = await fetchAPI(DRINKS_ALL_CATEGORIES_ENDPOINT);\n      dispatch(setCategories(response.drinks.filter(onlyTheFirst5)));\n    } catch (e) {\n      console.error(e);\n      dispatch(loadingCategoriesFailed(e));\n    }\n\n    dispatch(finishedLoadingCategories());\n  };\n}\nexport function changeCategory(payload) {\n  return {\n    type: CHANGE_DRINK_CATEGORY,\n    payload\n  };\n}\nexport function setIngredients(payload) {\n  return {\n    type: SET_DRINKS_INGREDIENTS,\n    payload\n  };\n}\nexport function getDrinksIngredientsAPIThunk() {\n  const LAST_INGREDIENT_INDEX = 12;\n\n  const onlyTheFirst12 = (_recipe, index) => index < LAST_INGREDIENT_INDEX;\n\n  return async dispatch => {\n    dispatch(loadingIngredient());\n\n    try {\n      const response = await fetchAPI(DRINKS_INGREDIENT_ENDPOINT);\n      dispatch(setIngredients(response.drinks.filter(onlyTheFirst12)));\n    } catch (e) {\n      console.error(e);\n      dispatch(loadingIngredientsFailed(e));\n    }\n\n    dispatch(finishedLoadingIngredients());\n  };\n}","map":{"version":3,"sources":["/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-recipes-app/src/redux/actions/drinksAction.js"],"names":["DRINKS_ALL_CATEGORIES_ENDPOINT","DRINKS_INGREDIENT_ENDPOINT","fetchAPI","finishedLoadingCategories","finishedLoadingIngredients","finishedLoadingRecipes","loadingCategories","loadingCategoriesFailed","loadingIngredient","loadingIngredientsFailed","loadingRecipes","loadingRecipesFailed","SET_DRINKS","SET_SEARCH_BAR_DRINKS","SET_DRINK_DETAILS","SET_DRINK_CATEGORIES","CHANGE_DRINK_CATEGORY","SET_DRINKS_INGREDIENTS","APIThunk","setter","URL","dispatch","response","drinks","e","console","error","setDrinks","payload","type","setSearchBarDrinks","setDrinkDetails","getDrinkRecipesAPIThunk","getDrinkSearchBarAPIThunk","getDrinkDetailsAPIThunk","setCategories","getDrinkCategoriesAPIThunk","LAST_CATEGORY_INDEX","onlyTheFirst5","_recipe","index","filter","changeCategory","setIngredients","getDrinksIngredientsAPIThunk","LAST_INGREDIENT_INDEX","onlyTheFirst12"],"mappings":"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","sourcesContent":["import { DRINKS_ALL_CATEGORIES_ENDPOINT,\n  DRINKS_INGREDIENT_ENDPOINT } from '../../services/drinks';\nimport fetchAPI from '../../services';\nimport {\n  finishedLoadingCategories,\n  finishedLoadingIngredients,\n  finishedLoadingRecipes,\n  loadingCategories,\n  loadingCategoriesFailed,\n  loadingIngredient,\n  loadingIngredientsFailed,\n  loadingRecipes,\n  loadingRecipesFailed } from './loadingAction';\n\nexport const SET_DRINKS = 'SET_DRINKS';\nexport const SET_SEARCH_BAR_DRINKS = 'SET_SEARCH_BAR_DRINKS';\nexport const SET_DRINK_DETAILS = 'SET_DRINK_DETAILS';\nexport const SET_DRINK_CATEGORIES = 'SET_DRINK_CATEGORIES';\nexport const CHANGE_DRINK_CATEGORY = 'CHANGE_DRINK_CATEGORY';\nexport const SET_DRINKS_INGREDIENTS = 'SET_DRINKS_INGREDIENTS';\n\nfunction APIThunk(setter) {\n  return (URL) => async (dispatch) => {\n    dispatch(loadingRecipes(URL));\n    try {\n      const response = await fetchAPI(URL);\n      dispatch(setter(response.drinks));\n    } catch (e) {\n      console.error(e);\n      dispatch(loadingRecipesFailed(e));\n    }\n    dispatch(finishedLoadingRecipes());\n  };\n}\nfunction setDrinks(payload) {\n  return {\n    type: SET_DRINKS,\n    payload,\n  };\n}\nfunction setSearchBarDrinks(payload) {\n  return {\n    type: SET_SEARCH_BAR_DRINKS,\n    payload,\n  };\n}\nfunction setDrinkDetails(payload) {\n  return {\n    type: SET_DRINK_DETAILS,\n    payload,\n  };\n}\nexport const getDrinkRecipesAPIThunk = APIThunk(setDrinks);\nexport const getDrinkSearchBarAPIThunk = APIThunk(setSearchBarDrinks);\nexport const getDrinkDetailsAPIThunk = APIThunk(setDrinkDetails);\n\nfunction setCategories(payload) {\n  return {\n    type: SET_DRINK_CATEGORIES,\n    payload,\n  };\n}\nexport function getDrinkCategoriesAPIThunk() {\n  const LAST_CATEGORY_INDEX = 5;\n  const onlyTheFirst5 = (_recipe, index) => index < LAST_CATEGORY_INDEX;\n  return async (dispatch) => {\n    dispatch(loadingCategories());\n    try {\n      const response = await fetchAPI(DRINKS_ALL_CATEGORIES_ENDPOINT);\n      dispatch(setCategories(response.drinks.filter(onlyTheFirst5)));\n    } catch (e) {\n      console.error(e);\n      dispatch(loadingCategoriesFailed(e));\n    }\n    dispatch(finishedLoadingCategories());\n  };\n}\n\nexport function changeCategory(payload) {\n  return {\n    type: CHANGE_DRINK_CATEGORY,\n    payload,\n  };\n}\n\nexport function setIngredients(payload) {\n  return {\n    type: SET_DRINKS_INGREDIENTS,\n    payload,\n  };\n}\n\nexport function getDrinksIngredientsAPIThunk() {\n  const LAST_INGREDIENT_INDEX = 12;\n  const onlyTheFirst12 = (_recipe, index) => index < LAST_INGREDIENT_INDEX;\n  return async (dispatch) => {\n    dispatch(loadingIngredient());\n    try {\n      const response = await fetchAPI(DRINKS_INGREDIENT_ENDPOINT);\n      dispatch(setIngredients(response.drinks.filter(onlyTheFirst12)));\n    } catch (e) {\n      console.error(e);\n      dispatch(loadingIngredientsFailed(e));\n    }\n    dispatch(finishedLoadingIngredients());\n  };\n}\n"]},"metadata":{},"sourceType":"module"}