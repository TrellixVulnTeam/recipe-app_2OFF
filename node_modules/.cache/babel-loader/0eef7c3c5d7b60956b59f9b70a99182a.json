{"ast":null,"code":"var _jsxFileName = \"/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-recipes-app/src/pages/ComidasEmProcesso.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport fetchAPI from '../services/index';\nimport heartWhite from \"../images/whiteHeartIcon.svg\"; // import heartBlack from '../images/blackHeartIcon.svg';\n\nimport share from \"../images/shareIcon.svg\";\nimport { createIngredientsList } from '../utils';\nimport { MEALS_BY_ID_ENDPOINT } from '../services/meals';\nimport '../css/ComidasEmProcessoCSS.css';\n\nfunction ComidasEmProcesso() {\n  const {\n    id\n  } = useParams();\n  const [meal, setMeal] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [indexChecked, setIndexChecked] = useState([]);\n  const [local, setLocal] = useState({\n    meals: {\n      [id]: []\n    }\n  });\n  useEffect(() => {\n    setLoading(true);\n\n    const fetchMeal = async () => {\n      const data = await fetchAPI(MEALS_BY_ID_ENDPOINT(id));\n      setMeal(data.meals[0]);\n      setLoading(false);\n      console.log(data.meals[0]);\n      console.log(meal);\n    };\n\n    fetchMeal();\n  }, []);\n  console.log(meal);\n  const ingredientes = createIngredientsList(meal);\n  console.log(ingredientes);\n  const filter = ingredientes.filter(item => item[0] !== undefined);\n  console.log(filter);\n\n  function checkedStyle(ev, index, ingredient) {\n    const {\n      target: {\n        checked\n      }\n    } = ev;\n    console.log(ev.target);\n\n    if (checked) {\n      setIndexChecked(previus => [...previus, index]);\n    } else if (!checked) {\n      const filterChecked = indexChecked.filter(item => item !== index);\n      setIndexChecked(filterChecked);\n    }\n\n    setLocal(previus => ({\n      meals: {\n        id: [...previus, ingredient]\n      }\n    }));\n    localStorage.setItem('inProgressRecipes', JSON.stringify(local));\n  }\n\n  function renderList() {\n    return filter.map((item, index) => /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"checks\",\n      key: index,\n      className: indexChecked.includes(index) ? 'text-decoration' : 'no-decoration',\n      \"data-testid\": `${index}-ingredient-step`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"checks\",\n      onClick: ev => checkedStyle(ev, index, item[0]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }), `${item[0]} - ${item[1]}`));\n  }\n\n  if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 23\n    }\n  }, \"carregando\");\n  return /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: meal.strMealThumb,\n    \"data-testid\": \"recipe-photo\",\n    alt: \"imagem da refei\\xE7\\xE3o\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    \"data-testid\": \"recipe-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, meal.strMeal), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, meal.strMeal), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"share-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: share,\n    alt: \"icone compartilhar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"favorite-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: heartWhite,\n    alt: \"icone cora\\xE7\\xE3o\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  })), renderList(), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, meal.strInstructions), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"finish-recipe-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, \"finalizar\"));\n}\n\nexport default ComidasEmProcesso;","map":{"version":3,"sources":["/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-recipes-app/src/pages/ComidasEmProcesso.js"],"names":["React","useEffect","useState","useParams","fetchAPI","createIngredientsList","MEALS_BY_ID_ENDPOINT","ComidasEmProcesso","id","meal","setMeal","loading","setLoading","indexChecked","setIndexChecked","local","setLocal","meals","fetchMeal","data","console","log","ingredientes","filter","item","undefined","checkedStyle","ev","index","ingredient","target","checked","previus","filterChecked","localStorage","setItem","JSON","stringify","renderList","map","includes","strMealThumb","strMeal","share","heartWhite","strInstructions"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport fetchAPI from '../services/index';\nimport heartWhite from '../images/whiteHeartIcon.svg';\n// import heartBlack from '../images/blackHeartIcon.svg';\nimport share from '../images/shareIcon.svg';\nimport { createIngredientsList } from '../utils';\nimport { MEALS_BY_ID_ENDPOINT } from '../services/meals';\nimport '../css/ComidasEmProcessoCSS.css';\n\nfunction ComidasEmProcesso() {\n  const { id } = useParams();\n  const [meal, setMeal] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [indexChecked, setIndexChecked] = useState([]);\n  const [local, setLocal] = useState({\n    meals: {\n      [id]: [],\n    },\n  });\n\n  useEffect(() => {\n    setLoading(true);\n    const fetchMeal = async () => {\n      const data = await fetchAPI(MEALS_BY_ID_ENDPOINT(id));\n      setMeal(data.meals[0]);\n      setLoading(false);\n      console.log(data.meals[0]);\n      console.log(meal);\n    };\n\n    fetchMeal();\n  }, []);\n\n  console.log(meal);\n\n  const ingredientes = createIngredientsList(meal);\n  console.log(ingredientes);\n  const filter = ingredientes.filter((item) => item[0] !== undefined);\n  console.log(filter);\n\n  function checkedStyle(ev, index, ingredient) {\n    const { target: { checked } } = ev;\n    console.log(ev.target);\n    if (checked) {\n      setIndexChecked((previus) => ([...previus, index]));\n    } else if (!checked) {\n      const filterChecked = indexChecked.filter((item) => item !== index);\n      setIndexChecked(filterChecked);\n    }\n\n    setLocal((previus) => (\n      {\n        meals: {\n          id: [...previus, ingredient],\n        },\n      }\n    ));\n\n    localStorage.setItem('inProgressRecipes', JSON.stringify(local));\n\n  }\n\n  function renderList() {\n    return filter.map((item, index) => (\n      <label\n        htmlFor=\"checks\"\n        key={ index }\n        className={ indexChecked.includes(index) ? 'text-decoration' : 'no-decoration' }\n        data-testid={ `${index}-ingredient-step` }\n      >\n        <input\n          type=\"checkbox\"\n          id=\"checks\"\n          onClick={ (ev) => checkedStyle(ev, index, item[0]) }\n        />\n        { `${item[0]} - ${item[1]}` }\n      </label>\n    ));\n  }\n\n  if (loading) return <p>carregando</p>;\n\n  return (\n    <section>\n      <img\n        src={ meal.strMealThumb }\n        data-testid=\"recipe-photo\"\n        alt=\"imagem da refeição\"\n      />\n      <h3 data-testid=\"recipe-title\">{ meal.strMeal }</h3>\n      <p data-testid=\"recipe-category\">{ meal.strMeal }</p>\n\n      <button type=\"button\" data-testid=\"share-btn\">\n        <img src={ share } alt=\"icone compartilhar\" />\n      </button>\n      <button type=\"button\" data-testid=\"favorite-btn\">\n        <img src={ heartWhite } alt=\"icone coração\" />\n      </button>\n\n      { renderList() }\n\n      <p data-testid=\"recipe-category\">{ meal.strInstructions }</p>\n      <button type=\"button\" data-testid=\"finish-recipe-btn\">finalizar</button>\n    </section>\n  );\n}\n\nexport default ComidasEmProcesso;\n"]},"metadata":{},"sourceType":"module"}